<script src="../../importmap.js"></script>

<lume-scene perspective="300">
	<lume-camera-rig></lume-camera-rig>
	<lume-element3d id="one" position="-100 -100" size="10 10" rotation="0 0 10">
		<lume-element3d id="two" position="50 50" size="10 10" rotation="0 0 10">
			<lume-element3d id="three" position="50 50" size="10 10" rotation="0 0 10">
				<lume-element3d id="four" position="50 50" size="100 100" rotation="0 0 10">
					Positioning is relative to parents!
				</lume-element3d>
			</lume-element3d>
		</lume-element3d>
	</lume-element3d>
</lume-scene>

<style>
	html,
	body {
		margin: 0;
		padding: 0;
		height: 100%;
		width: 100%;
		background: #333;
		color: white;
	}
	lume-element3d {
		padding: 5px;
	}
	#one {
		background: coral;
	}
	#two {
		background: yellowgreen;
	}
	#three {
		background: deeppink;
	}
	#four {
		background: royalblue;
	}
</style>

<script type="module">
	import 'lume'

	const rotationFunction = (x, y, z, t) => [
		10 * Math.sin(t * 0.002),
		10 * Math.sin(t * 0.002),
		10 * Math.sin(t * 0.002),
	]

	// Give all nodes the same rotation. Note that each node rotates "inside" of the parent space.
	one.rotation = rotationFunction
	two.rotation = rotationFunction
	three.rotation = rotationFunction
	three.rotation = rotationFunction
</script>
